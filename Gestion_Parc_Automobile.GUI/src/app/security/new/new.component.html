
<ng-container *ngIf="!estUserCreated">
    <ng-container *ngTemplateOutlet="formNewCompte"> </ng-container>
</ng-container>

<ng-container *ngIf="estUserCreated">
    <ng-container *ngTemplateOutlet="wellcome"> </ng-container>
</ng-container>


<ng-template #formNewCompte>
    <form class="pt-1" [formGroup]='formDetail' novalidate>

        <div class="card" style="width: 400px;">
           <div class="card-body">
    
                <div class="row">
                    <div class="col-12">
                        <span class="h5 text-center">New User - Parc Mobile Demo</span>
                    </div>
                </div>
                <div class="row">
                    <!-- inputName -->
                    <div class="col-12 col-sm-6">
                        <mat-form-field class="w-100">
                            <input matInput formControlName="inputName" name="inputName" placeholder="Name" required>
                            <mat-error *ngIf="formDetail.controls.inputName.hasError('required')">Champ obligatoire</mat-error>
                        </mat-form-field>
                    </div>
                    <!-- last name -->
                    <div class="col-12 col-sm-6">
                        <mat-form-field class="w-100">
                            <input matInput formControlName="inputLastName" name="inputLastName" placeholder="LastName" required>
                            <mat-error *ngIf="formDetail.controls.inputLastName.hasError('required')">Champ obligatoire</mat-error>
                        </mat-form-field>
                    </div>
               </div>
                <div class="row">
                     <div class="col-12">
                        <mat-form-field class="w-100">
                            <mat-label >Email </mat-label>
                            <input matInput id="InputEmail" formControlName="InputEmail" name="InputEmail" #InputEmail
                                required>
                            <mat-error *ngIf="formDetail.controls.InputEmail.hasError('required')" >Champ obligatoire</mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <mat-form-field class="w-100">
                            <mat-label> Password </mat-label>
                            <input matInput type="password" id="InputPassword" formControlName="InputPassword" name="InputPassword"
                                #InputPassword required>
                            <mat-error *ngIf="formDetail.controls.InputPassword.hasError('required')"
                               >Champ obligatoire</mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row pt-3 p-1">
                    <div class="col-12 col-sm-6">
                        <button mat-raised-button color="primary" (click)="Create()" >Create</button> 
                    </div>
                    <div class="col-12 col-sm-6">
                        <button mat-raised-button color="accent" (click)="Cancel()" >Cancel</button> 
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <br/> {{ labelMSN }} 
                    </div>
                </div>
            </div>
        </div>
    </form>
    
  </ng-template>
  

  <ng-template #wellcome>    
    
    <div class="row pt-3 p-1">
        <div class="col-12 col-sm-12">
            <h1>wellcome {{ utilisateur?.name }}</h1>
        </div>
        <div class="col-12 col-sm-12">
            <button mat-raised-button color="accent" (click)="Cancel()" >Login</button> 
        </div>
    </div>

  </ng-template>
