(self.webpackChunkparc_automobile=self.webpackChunkparc_automobile||[]).push([[398],{1089:(t,e,n)=>{"use strict";n.d(e,{v:()=>a});var i=n(7716);let a=(()=>{class t{constructor(){this.dataType="string",this.editable=!1,this.enableEdit=!1,this.enableInlineEdit=!1,this.enableInlineInsert=!1,this.enableDelete=!1,this.enableSort=!0,this.enableSelect=!1,this.enableFooter=!1,this.enabledTranslate=!1,this.expandable=!1,this.noWrap=!0,this.confirmDelete="Etes-vous sure de vouloir supprimer cet item ?",this.condition=()=>!0,this.onEdit=new i.vpe,this.onDelete=new i.vpe,this.onSelect=new i.vpe}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-column-material"]],inputs:{name:"name",field:"field",caption:"caption",dataType:"dataType",dataTypeFormat:"dataTypeFormat",editable:"editable",enableEdit:"enableEdit",enableInlineEdit:"enableInlineEdit",enableInlineInsert:"enableInlineInsert",enableDelete:"enableDelete",enableSort:"enableSort",enableSelect:"enableSelect",enableFooter:"enableFooter",enabledTranslate:"enabledTranslate",templateUpdate:"templateUpdate",template:"template",templateFooter:"templateFooter",data:"data",expandable:"expandable",noWrap:"noWrap",confirmDelete:"confirmDelete",condition:"condition"},outputs:{onEdit:"onEdit",onDelete:"onDelete",onSelect:"onSelect"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})()},3175:(t,e,n)=>{"use strict";n.d(e,{x:()=>Yt});var i=n(7716),a=n(1089),o=n(2091),l=n(1494),c=n(9692),s=n(8345),r=n(8583),d=n(8295),p=n(9983),m=n(6627),u=n(1095),g=n(3935),f=n(4212),h=n(7539),x=n(3220),b=n(3679);function C(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",27),i.TgZ(1,"mat-form-field",28),i.TgZ(2,"input",29),i.NdJ("keyup",function(e){return i.CHM(t),i.oxw().filtrerDataSource(e)}),i.qZA(),i.TgZ(3,"mat-icon",30),i._uU(4,"search"),i.qZA(),i.qZA(),i.qZA()}}function w(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",31),i.NdJ("click",function(){return i.CHM(t),i.oxw().insert()}),i.TgZ(1,"mat-icon"),i._uU(2,"add_circle"),i.qZA(),i._uU(3," \xa0 Ajouter "),i.qZA()}}function Z(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){return i.CHM(t),i.oxw().refreshData()}),i.TgZ(1,"mat-icon"),i._uU(2," autorenew"),i.qZA(),i.qZA()}}function D(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){return i.CHM(t),i.oxw().exporter()}),i.TgZ(1,"mat-icon"),i._uU(2," get_app"),i.qZA(),i.qZA()}}function T(t,e){1&t&&(i.TgZ(0,"mat-icon"),i._uU(1," fullscreen"),i.qZA())}function I(t,e){1&t&&(i.TgZ(0,"mat-icon"),i._uU(1," fullscreen_exit"),i.qZA())}function S(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){return i.CHM(t),i.oxw().etendreColonnes()}),i.YNc(1,T,2,0,"mat-icon",22),i.YNc(2,I,2,0,"mat-icon",22),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",!t.expandColumns),i.xp6(1),i.Q6J("ngIf",t.expandColumns)}}function y(t,e){1&t&&(i.TgZ(0,"button",39),i.TgZ(1,"span"),i._uU(2,"AUCUNE ACTION"),i.qZA(),i.qZA())}function k(t,e){1&t&&i.GkF(0)}const Q=function(t){return{$implicit:t}};function v(t,e){if(1&t&&(i.TgZ(0,"li",33),i.TgZ(1,"div",34),i.TgZ(2,"small"),i._uU(3),i.qZA(),i.TgZ(4,"button",35),i.TgZ(5,"mat-icon"),i._uU(6,"more_vert"),i.qZA(),i.qZA(),i.TgZ(7,"mat-menu",null,36),i.YNc(9,y,3,0,"button",37),i.YNc(10,k,1,0,"ng-container",38),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.MAs(8),e=i.oxw();i.xp6(3),i.hij("Selection multiple ",null==e.selection||null==e.selection.selected?null:e.selection.selected.length," "),i.xp6(1),i.Q6J("matMenuTriggerFor",t),i.xp6(5),i.Q6J("ngIf",!e.templateMultiEdition),i.xp6(1),i.Q6J("ngTemplateOutlet",e.templateMultiEdition)("ngTemplateOutletContext",i.VKq(5,Q,e.selection.selected))}}const N=function(){return["fas","compress"]};function A(t,e){1&t&&i._UZ(0,"fa-icon",42),2&t&&i.Q6J("icon",i.DdM(1,N))}const J=function(){return["fas","expand"]};function M(t,e){1&t&&i._UZ(0,"fa-icon",42),2&t&&i.Q6J("icon",i.DdM(1,J))}function E(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"th",40),i.NdJ("click",function(){return i.CHM(t),i.oxw().expandAllCollapse()}),i.YNc(1,A,1,2,"fa-icon",41),i.YNc(2,M,1,2,"fa-icon",41),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",t.activateCollapseAllRow),i.xp6(1),i.Q6J("ngIf",!t.activateCollapseAllRow)}}function _(t,e){1&t&&i._UZ(0,"span")}const F=function(){return["fas","caret-right"]};function O(t,e){1&t&&i._UZ(0,"fa-icon",47),2&t&&i.Q6J("icon",i.DdM(1,F))}const q=function(){return["fas","caret-down"]};function Y(t,e){1&t&&i._UZ(0,"fa-icon",47),2&t&&i.Q6J("icon",i.DdM(1,q))}function R(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"span",45),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw().expandCollapse(e)}),i.YNc(1,O,1,2,"fa-icon",46),i.YNc(2,Y,1,2,"fa-icon",46),i.qZA()}if(2&t){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",!1===t.isExpanded),i.xp6(1),i.Q6J("ngIf",!0===t.isExpanded)}}function U(t,e){if(1&t&&(i.TgZ(0,"td",43),i.YNc(1,_,1,0,"span",22),i.YNc(2,R,3,2,"span",44),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",!1===t.isRowCollapse),i.xp6(1),i.Q6J("ngIf",!0===t.isRowCollapse)}}function $(t,e){1&t&&i._UZ(0,"td",48)}const P=function(t){return{"d-none":t}};function B(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"th",49),i.TgZ(1,"mat-checkbox",50),i.NdJ("change",function(e){i.CHM(t);const n=i.oxw();return e?n.masterToggle():null}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("ngClass",i.VKq(3,P,!t.multiEdition)),i.xp6(1),i.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function H(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"td",51),i.TgZ(1,"mat-checkbox",52),i.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=i.CHM(t).$implicit,a=i.oxw();return e?a.selection.toggle(n):null}),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=i.oxw();i.Q6J("ngClass",i.VKq(2,P,!n.multiEdition)),i.xp6(1),i.Q6J("checked",n.selection.isSelected(t))}}function j(t,e){if(1&t&&i._UZ(0,"td",53),2&t){const t=i.oxw();i.Q6J("ngClass",i.VKq(1,P,!t.multiEdition))}}const V=function(t){return{"text-nowrap":t}};function L(t,e){if(1&t&&(i.TgZ(0,"th",55),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.Q6J("disabled",!t.enableSort)("ngClass",i.VKq(3,V,t.noWrap)),i.xp6(1),i.hij(" ",t.caption," ")}}function z(t,e){if(1&t&&(i.ynx(0),i._uU(1),i.ALo(2,"date"),i.BQk()),2&t){const t=i.oxw(3).$implicit,e=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.hij("",i.xi3(2,1,n.getData(t,e.field),e.dataTypeFormat)," ")}}function G(t,e){if(1&t&&i._UZ(0,"mat-checkbox",65),2&t){const t=i.oxw(3).$implicit,e=i.oxw().$implicit,n=i.oxw();i.Q6J("checked",n.getData(t,e.field))("disabled",!0)}}function W(t,e){if(1&t&&(i.ynx(0),i._uU(1),i.ALo(2,"currency"),i.BQk()),2&t){const t=i.oxw(3).$implicit,e=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.Oqu(i.Dn7(2,1,n.getData(t,e.field),"EUR","\u20ac"))}}function K(t,e){if(1&t&&(i.ynx(0),i.ynx(1),i._uU(2),i.BQk(),i.BQk()),2&t){const t=i.oxw(3).$implicit,e=i.oxw().$implicit,n=i.oxw();i.xp6(2),i.hij("",n.getData(t,e.field)," ")}}function X(t,e){if(1&t&&(i.ynx(0,61),i.YNc(1,z,3,4,"ng-container",62),i.YNc(2,G,1,2,"mat-checkbox",63),i.YNc(3,W,3,5,"ng-container",62),i.YNc(4,K,3,1,"ng-container",64),i.BQk()),2&t){const t=i.oxw(3).$implicit;i.Q6J("ngSwitch",t.dataType),i.xp6(1),i.Q6J("ngSwitchCase","date"),i.xp6(1),i.Q6J("ngSwitchCase","boolean"),i.xp6(1),i.Q6J("ngSwitchCase","currency")}}function tt(t,e){1&t&&i.GkF(0)}function et(t,e){if(1&t&&(i.ynx(0),i.YNc(1,X,5,4,"ng-container",56),i.YNc(2,tt,1,0,"ng-container",38),i.BQk()),2&t){const t=i.oxw().$implicit,e=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",!e.template),i.xp6(1),i.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",i.VKq(3,Q,t))}}function nt(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-form-field",69),i.TgZ(1,"input",70),i.NdJ("ngModelChange",function(e){return i.CHM(t),i.oxw(3).$implicit[i.oxw().$implicit.field]=e}),i.qZA(),i._UZ(2,"mat-datepicker-toggle",71),i._UZ(3,"mat-datepicker",null,72),i.qZA()}if(2&t){const t=i.MAs(4),e=i.oxw(3).$implicit,n=i.oxw().$implicit;i.xp6(1),i.Q6J("matDatepicker",t)("ngModel",e[n.field]),i.xp6(1),i.Q6J("for",t)}}function it(t,e){if(1&t&&i._UZ(0,"mat-checkbox",73),2&t){const t=i.oxw(3).$implicit,e=i.oxw().$implicit;i.Q6J("checked",t[e.field])}}function at(t,e){if(1&t&&(i.ynx(0),i._uU(1),i.ALo(2,"currency"),i.BQk()),2&t){const t=i.oxw(3).$implicit,e=i.oxw().$implicit;i.xp6(1),i.hij("",i.Dn7(2,1,t[e.field],"EUR","\u20ac")," ")}}function ot(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-form-field",28),i.TgZ(1,"input",74),i.NdJ("ngModelChange",function(e){return i.CHM(t),i.oxw(3).$implicit[i.oxw().$implicit.field]=e}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(3).$implicit,e=i.oxw().$implicit;i.xp6(1),i.Q6J("type",e.dataType)("ngModel",t[e.field])}}function lt(t,e){1&t&&(i.ynx(0),i.YNc(1,nt,5,3,"mat-form-field",66),i.YNc(2,it,1,1,"mat-checkbox",67),i.YNc(3,at,3,5,"ng-container",62),i.YNc(4,ot,2,2,"mat-form-field",68),i.BQk()),2&t&&(i.xp6(1),i.Q6J("ngSwitchCase","date"),i.xp6(1),i.Q6J("ngSwitchCase","boolean"),i.xp6(1),i.Q6J("ngSwitchCase","currency"))}function ct(t,e){1&t&&i.GkF(0)}function st(t,e){if(1&t&&(i.ynx(0,61),i.YNc(1,lt,5,3,"ng-container",22),i.YNc(2,ct,1,0,"ng-container",38),i.BQk()),2&t){const t=i.oxw().$implicit,e=i.oxw().$implicit;i.Q6J("ngSwitch",e.dataType),i.xp6(1),i.Q6J("ngIf",!e.templateUpdate),i.xp6(1),i.Q6J("ngTemplateOutlet",e.templateUpdate)("ngTemplateOutletContext",i.VKq(4,Q,t))}}function rt(t,e){if(1&t&&i._UZ(0,"mat-checkbox",73),2&t){const t=i.oxw().$implicit;i.Q6J("checked",t.selected)}}function dt(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",75),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,n=i.oxw().$implicit;return i.oxw().edit(n,e)}),i.TgZ(1,"mat-icon"),i._uU(2,"edit"),i.qZA(),i.qZA()}}function pt(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",76),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,n=i.oxw().$implicit;return i.oxw().delete(n,e)}),i.TgZ(1,"mat-icon"),i._uU(2,"delete"),i.qZA(),i.qZA()}}function mt(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",76),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,n=i.oxw().$implicit;return i.oxw().enregistrer(n,e)}),i.TgZ(1,"mat-icon"),i._uU(2,"save"),i.qZA(),i.qZA()}}const ut=function(){return["fas","times"]};function gt(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"a",77),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw(2).cancel(e)}),i._UZ(1,"fa-icon",42),i.qZA()}2&t&&(i.xp6(1),i.Q6J("icon",i.DdM(1,ut)))}const ft=function(t,e){return{"text-nowrap":t,"d-none":e}};function ht(t,e){if(1&t&&(i.TgZ(0,"td",51),i.YNc(1,et,3,5,"ng-container",22),i.YNc(2,st,3,6,"ng-container",56),i.YNc(3,rt,1,1,"mat-checkbox",57),i.YNc(4,dt,3,0,"button",58),i.YNc(5,pt,3,0,"button",59),i.YNc(6,mt,3,0,"button",59),i.YNc(7,gt,2,2,"a",60),i.qZA()),2&t){const t=e.$implicit,n=i.oxw().$implicit;i.Q6J("ngClass",i.WLB(8,ft,n.noWrap,!n.condition)),i.xp6(1),i.Q6J("ngIf",!n.editable||!t.editing),i.xp6(1),i.Q6J("ngIf",n.editable&&t.editing),i.xp6(1),i.Q6J("ngIf",n.enableSelect),i.xp6(1),i.Q6J("ngIf",n.condition&&n.condition(n,t)&&n.enableInlineEdit&&!t.editing||n.enableEdit),i.xp6(1),i.Q6J("ngIf",n.enableDelete&&!t.editing),i.xp6(1),i.Q6J("ngIf",(n.enableInlineEdit||n.enableInlineInsert)&&t.editing),i.xp6(1),i.Q6J("ngIf",(n.enableInlineEdit||n.enableInlineInsert)&&t.editing)}}function xt(t,e){if(1&t&&(i.ynx(0),i._uU(1),i.BQk()),2&t){const t=i.oxw(4).$implicit,e=i.oxw();i.xp6(1),i.hij(" ",e.getTotals(t.field),"")}}function bt(t,e){if(1&t&&(i.ynx(0),i._uU(1),i.ALo(2,"currency"),i.BQk()),2&t){const t=i.oxw(4).$implicit,e=i.oxw();i.xp6(1),i.hij(" ",i.Dn7(2,1,e.getTotals(t.field),"EUR","\u20ac"),"")}}function Ct(t,e){if(1&t&&(i.ynx(0),i._uU(1),i.BQk()),2&t){const t=i.oxw(4).$implicit;i.xp6(1),i.Oqu(t.caption)}}function wt(t,e){if(1&t&&(i.ynx(0,61),i.YNc(1,xt,2,1,"ng-container",62),i.YNc(2,bt,3,5,"ng-container",62),i.YNc(3,Ct,2,1,"ng-container",64),i.BQk()),2&t){const t=i.oxw(3).$implicit;i.Q6J("ngSwitch",t.dataType),i.xp6(1),i.Q6J("ngSwitchCase","number"),i.xp6(1),i.Q6J("ngSwitchCase","currency")}}function Zt(t,e){1&t&&i.GkF(0)}function Dt(t,e){if(1&t&&(i.ynx(0),i.YNc(1,wt,4,3,"ng-container",56),i.YNc(2,Zt,1,0,"ng-container",78),i.BQk()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",!t.templateFooter),i.xp6(1),i.Q6J("ngTemplateOutlet",t.templateFooter)}}function Tt(t,e){if(1&t&&(i.TgZ(0,"td",48),i.YNc(1,Dt,3,2,"ng-container",22),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",t.enableFooter)}}function It(t,e){1&t&&(i.ynx(0,11),i.YNc(1,L,2,5,"th",54),i.YNc(2,ht,8,11,"td",16),i.YNc(3,Tt,2,1,"td",14),i.BQk()),2&t&&i.s9C("matColumnDef",e.$implicit.name)}function St(t,e){1&t&&i.GkF(0)}function yt(t,e){if(1&t&&(i.TgZ(0,"div",83),i.YNc(1,St,1,0,"ng-container",38),i.qZA()),2&t){const t=i.oxw().$implicit,e=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",e.collapseDetail)("ngTemplateOutletContext",i.VKq(2,Q,t))}}function kt(t,e){if(1&t&&(i.TgZ(0,"td",81),i.YNc(1,yt,2,4,"div",82),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(2);i.Q6J("@expandableRow",t.isExpanded?"expanded":"collapsed"),i.uIk("colspan",n.displayedColumns.length),i.xp6(1),i.Q6J("ngIf",t.isExpanded)}}function Qt(t,e){1&t&&(i.ynx(0,79),i.YNc(1,kt,2,3,"td",80),i.BQk())}function vt(t,e){1&t&&i._UZ(0,"tr",84)}function Nt(t,e){1&t&&i._UZ(0,"tr",85)}function At(t,e){1&t&&i._UZ(0,"tr",87)}const Jt=function(){return["expandedDetail"]};function Mt(t,e){1&t&&(i.ynx(0),i.YNc(1,At,1,0,"tr",86),i.BQk()),2&t&&(i.xp6(1),i.Q6J("matRowDefColumns",i.DdM(1,Jt)))}function Et(t,e){if(1&t&&i._UZ(0,"tr",89),2&t){const t=i.oxw(2);i.Q6J("hidden",0==t.internalDataSource.filteredData.length)}}function _t(t,e){if(1&t&&(i.ynx(0),i.YNc(1,Et,1,1,"tr",88),i.BQk()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("matFooterRowDef",t.displayedColumns)}}function Ft(t,e){1&t&&(i.TgZ(0,"div",90),i._uU(1,"NO DATA "),i.qZA())}function Ot(t,e){if(1&t&&i._UZ(0,"mat-paginator",91,92),2&t){const t=i.oxw();i.Q6J("length",t.dataLength)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)}}const qt=function(t,e){return{"clsToolbar-40":t,"clsToolbar-0":e}};let Yt=(()=>{class t{constructor(t){this.datePipe=t,this.enableResponsive=!1,this.activateCollapseRow=!1,this.activateCollapseAllRow=!1,this.collapseAmount=0,this.collapseColumnName="collapseCol",this.enableSort=!1,this.displayedColumns=[],this.editingItems=[],this.enableInlineInsert=!1,this.enableInsert=!1,this.onInsert=new i.vpe,this.inserting=!1,this.enablePagination=!1,this.pageSizeOptions=[10,25,50,100,250],this.pageSize=10,this.dataLength=0,this.enableFilter=!1,this.enableExport=!1,this.exportColumns=[],this.exportName="export.csv",this.multiEdition=!1,this.selection=new s.Ov(!0,[]),this.mutliEditionColumnName="multiEditionCol",this.enableFooter=!1,this.enableExpandColumn=!1,this.expandColumns=!1,this.enableRefresh=!1,this.onRefresh=new i.vpe,this.persisteVisibilityMultiActions=!1,this.saveSuccessCallback=this.saveSuccessCallback.bind(this),this.saveCancelCallback=this.saveCancelCallback.bind(this),this.enregistrer=this.enregistrer.bind(this),this.cancel=this.cancel.bind(this)}set dataSource(t){this.dataLength=t?t.length:0,this.activateCollapseRow&&(t=t.map(t=>Object.assign(Object.assign({},t),{isExpanded:!1,isRowCollapse:!0===t.isRowCollapse||void 0===t.isRowCollapse}))),this.dataLength>0?this.internalDataSource?(this.internalDataSource.data=t,this.initPaginatorAndSort(),this.multiEdition&&this.selection.clear(),this.selection.clear(),this.table.renderRows()):t&&(this.internalDataSource=new o.by(t)):this.internalDataSource=new o.by(t)}ngOnInit(){if(!this.primaryField)throw new Error("primaryField obligatoire !")}ngAfterViewInit(){this.initPaginatorAndSort(),this.internalDataSource.filterPredicate=(t,e)=>{const n=this.columns.filter(t=>!!t.field&&!t.expandable).map(e=>{const n=this.getData(t,e.field);return"date"===e.dataType&&n?this.datePipe.transform(n,e.dataTypeFormat):n}).join(";").toLowerCase();return console.log("flat",n),n.includes(e)}}ngAfterContentInit(){this.displayedColumns=this.columns.filter(t=>!t.expandable).map(t=>t.name),!0===this.activateCollapseRow&&this.displayedColumns.unshift(this.collapseColumnName),!0===this.multiEdition&&this.displayedColumns.unshift(this.mutliEditionColumnName),this.emptyDataReference=this.columns.reduce((t,e,n)=>(e.field&&(t[e.field]=void 0),t),{})}refreshData(){this.onRefresh.emit(event)}initPaginatorAndSort(){setTimeout(()=>{this.sort&&this.enableSort&&this.dataLength>0&&(this.internalDataSource.sort=this.sort,this.internalDataSource.sortingDataAccessor=(t,e)=>this.getData(t,e)),this.paginator&&this.enablePagination&&(this.internalDataSource.paginator=this.paginator)})}saveSuccessCallback(t){t.editing=!1;const e=this.internalDataSource.data,n=e.findIndex(e=>e[this.primaryField]===t[this.primaryField]);e[n]=Object.assign({},t),this.internalDataSource.data=e,this.table.renderRows(),delete this.editingItems[t[this.primaryField]]}saveCancelCallback(t){this.cancel(t)}delete(t,e){confirm(t.confirmDelete)&&t.onDelete&&t.onDelete.emit(e)}edit(t,e){this.editingItems[e[this.primaryField]]=Object.assign({},e),t.enableInlineEdit?e.editing=!0:t.enableEdit&&(e.editing=!1,t.onEdit.emit({data:e,success:this.saveSuccessCallback,cancel:this.saveCancelCallback}))}insert(){var t;if(this.enableInsert)this.onInsert.emit();else if(this.enableInlineInsert&&!this.inserting){this.inserting=!0;const e=null===(t=this.internalDataSource)||void 0===t?void 0:t.data;e.unshift(Object.assign({editing:!0},this.emptyDataReference)),this.internalDataSource.data=e}this.internalDataSource&&this.table.renderRows()}enregistrer(t,e){this.inserting?(this.inserting=!1,this.onInsert.emit(e)):t.onEdit&&t.onEdit.emit({data:e,success:this.saveSuccessCallback,cancel:this.saveCancelCallback})}cancel(t){if(this.inserting&&!t[this.primaryField])this.inserting=!1,this.internalDataSource.data=this.internalDataSource.data.filter(t=>t[this.primaryField]);else if(t[this.primaryField]){t.editing=!1;const e=this.internalDataSource.data,n=e.findIndex(e=>e[this.primaryField]===t[this.primaryField]);e[n]=Object.assign({},this.editingItems[t[this.primaryField]]),this.internalDataSource.data=e,delete this.editingItems[t[this.primaryField]]}else{this.inserting=!1,t.editing=!1;const e=this.internalDataSource.data,n=e.findIndex(e=>e[this.primaryField]===t[this.primaryField]);this.internalDataSource.data=e.splice(n,1)}this.table.renderRows()}getTotals(t){var e,n,i;return this.dataLength>0&&(null===(e=this.internalDataSource)||void 0===e?void 0:e.filteredData)&&(null===(n=this.internalDataSource)||void 0===n?void 0:n.filteredData.length)>0?null===(i=this.internalDataSource)||void 0===i?void 0:i.filteredData.map(e=>this.getData(e,t)).reduce((t,e)=>t+e):0}filtrerDataSource(t){this.internalDataSource.filter=t.target.value.trim().toLowerCase()}exporter(){let t;t=this.exportColumns&&this.exportColumns.length>0?this.exportColumns:this.expandColumns?this.columns.filter(t=>!!t.field).map(t=>({field:t.field,caption:t.caption,dataType:t.dataType,dataTypeFormat:t.dataTypeFormat})):this.columns.filter(t=>!!t.field&&!t.expandable).map(t=>({field:t.field,caption:t.caption,dataType:t.dataType,dataTypeFormat:t.dataTypeFormat})),this.flat(this.internalDataSource.filteredData,t)}flat(t,e){return t?e.filter(t=>!!t.caption).map(t=>t.caption).join(";")+"\r\n"+t.map(t=>e.map(e=>{const n=this.getData(t,e.field);return"date"===e.dataType&&n?this.datePipe.transform(n,e.dataTypeFormat,"UTC"):n}).join(";")).join("\r\n"):null}isAllSelected(){return this.selection.selected.length===this.internalDataSource.filteredData.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.internalDataSource.filteredData.forEach(t=>this.selection.select(t))}onChangePage(t){console.log(t)}etendreColonnes(){this.expandColumns=!this.expandColumns,this.displayedColumns=this.expandColumns?this.columns.map(t=>t.name):this.columns.filter(t=>!t.expandable).map(t=>t.name),this.multiEdition&&this.displayedColumns.unshift(this.mutliEditionColumnName),!0===this.activateCollapseRow&&this.displayedColumns.unshift(this.collapseColumnName)}expandCollapse(t){t.isExpanded?(t.isExpanded=!1,this.collapseAmount--):(t.isExpanded=!0,this.collapseAmount++),this.activateCollapseAllRow=this.collapseAmount>0}expandAllCollapse(){this.activateCollapseAllRow=!this.activateCollapseAllRow,this.internalDataSource&&this.internalDataSource.filteredData.map(t=>t.isExpanded=!!t.isRowCollapse&&this.activateCollapseAllRow)}getData(t,e){if(e){const n=e.split(".");let i=t;for(let t=0;t<n.length;t++)i=i[n[t]];return i}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(r.uU))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-grid-material"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,a.v,4),2&t){let t;i.iGM(t=i.CRH())&&(e.columns=t)}},viewQuery:function(t,e){if(1&t&&(i.Gf(l.YE,5),i.Gf(o.BZ,5),i.Gf(c.NW,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.sort=t.first),i.iGM(t=i.CRH())&&(e.table=t.first),i.iGM(t=i.CRH())&&(e.paginator=t.first)}},inputs:{enableResponsive:"enableResponsive",collapseDetail:"collapseDetail",activateCollapseRow:"activateCollapseRow",dataSource:"dataSource",enableSort:"enableSort",primaryField:"primaryField",enableInlineInsert:"enableInlineInsert",enableInsert:"enableInsert",enablePagination:"enablePagination",pageSizeOptions:"pageSizeOptions",pageSize:"pageSize",enableFilter:"enableFilter",enableExport:"enableExport",exportColumns:"exportColumns",exportName:"exportName",multiEdition:"multiEdition",templateMultiEdition:"templateMultiEdition",enableFooter:"enableFooter",tepmplateActionsSupplementaires:"tepmplateActionsSupplementaires",enableExpandColumn:"enableExpandColumn",expandColumns:"expandColumns",enableRefresh:"enableRefresh",persisteVisibilityMultiActions:"persisteVisibilityMultiActions"},outputs:{onInsert:"onInsert",onRefresh:"onRefresh"},decls:35,vars:23,consts:[[1,"row","mb-3"],["class","col-12 col-md-6 pr-1",4,"ngIf"],[1,"col-12","col-sm-12","col-md-6","pl-0","pb-1","align-self-center"],["id","myToolbarGridMaterial",3,"ngClass"],["mat-raised-button","","class","btn btn-segula",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["style"," margin-left: auto;",4,"ngIf"],[1,"row"],[1,"col","table-responsive"],["mat-table","","matSort","",1,"w-100",3,"dataSource","multiTemplateDataRows"],["table",""],[3,"matColumnDef"],["mat-header-cell","","class","toggle",3,"click",4,"matHeaderCellDef"],["mat-cell","","class","mat-cell-child-item",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-footer-cell","",3,"ngClass",4,"matFooterCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","w-100 overflow-auto  text-center segula-coleur-violet",4,"ngIf"],[1,"row",3,"hidden"],[1,"col"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions",4,"ngIf"],[1,"col-12","col-md-6","pr-1"],[1,"w-100"],["matInput","","placeholder","Filtrer",3,"keyup"],["matSuffix",""],["mat-raised-button","",1,"btn","btn-segula",3,"click"],["mat-raised-button","",3,"click"],[2,"margin-left","auto"],[1,"align-self-center","text-right"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-menu-item",""],["mat-header-cell","",1,"toggle",3,"click"],[3,"icon",4,"ngIf"],[3,"icon"],["mat-cell","",1,"mat-cell-child-item"],["class","toggle",3,"click",4,"ngIf"],[1,"toggle",3,"click"],["class","fa-1-3x",3,"icon",4,"ngIf"],[1,"fa-1-3x",3,"icon"],["mat-footer-cell",""],["mat-header-cell","",3,"ngClass"],[3,"checked","indeterminate","change"],["mat-cell","",3,"ngClass"],[3,"checked","click","change"],["mat-footer-cell","",3,"ngClass"],["mat-header-cell","","mat-sort-header","",3,"disabled","ngClass",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","",3,"disabled","ngClass"],[3,"ngSwitch",4,"ngIf"],[3,"checked",4,"ngIf"],["mat-icon-button","","class","pr-2 text-dark",3,"click",4,"ngIf"],["mat-icon-button","","href","javascript:void(0)","class","pr-2 text-dark",3,"click",4,"ngIf"],["href","javascript:void(0)","class","pr-2 text-danger",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"checked","disabled",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"checked","disabled"],["class","d-block w-100",4,"ngSwitchCase"],[3,"checked",4,"ngSwitchCase"],["class","w-100",4,"ngSwitchDefault"],[1,"d-block","w-100"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker_d",""],[3,"checked"],["matInput","",3,"type","ngModel","ngModelChange"],["mat-icon-button","",1,"pr-2","text-dark",3,"click"],["mat-icon-button","","href","javascript:void(0)",1,"pr-2","text-dark",3,"click"],["href","javascript:void(0)",1,"pr-2","text-danger",3,"click"],[4,"ngTemplateOutlet"],["matColumnDef","expandedDetail"],["mat-cell","","class","mat-cell-child",4,"matCellDef"],["mat-cell","",1,"mat-cell-child"],["style","padding-top: 10px; padding-bottom: 10px; padding-right: 10px;",4,"ngIf"],[2,"padding-top","10px","padding-bottom","10px","padding-right","10px"],["mat-header-row",""],["mat-row",""],["mat-row","","class","expandable-row",4,"matRowDef","matRowDefColumns"],["mat-row","",1,"expandable-row"],["mat-footer-row","",3,"hidden",4,"matFooterRowDef"],["mat-footer-row","",3,"hidden"],[1,"w-100","overflow-auto","text-center","segula-coleur-violet"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions"],["paginator",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.YNc(1,C,5,0,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"ul",3),i.TgZ(4,"li"),i.YNc(5,w,4,0,"button",4),i.qZA(),i.TgZ(6,"li"),i.YNc(7,Z,3,0,"button",5),i.qZA(),i.TgZ(8,"li"),i.YNc(9,D,3,0,"button",5),i.qZA(),i.TgZ(10,"li"),i.YNc(11,S,3,2,"button",5),i.qZA(),i.YNc(12,v,11,7,"li",6),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",7),i.TgZ(14,"div",8),i.TgZ(15,"table",9,10),i.ynx(17,11),i.YNc(18,E,3,2,"th",12),i.YNc(19,U,3,2,"td",13),i.YNc(20,$,1,0,"td",14),i.BQk(),i.ynx(21,11),i.YNc(22,B,2,5,"th",15),i.YNc(23,H,2,4,"td",16),i.YNc(24,j,1,3,"td",17),i.BQk(),i.YNc(25,It,4,1,"ng-container",18),i.YNc(26,Qt,2,0,"ng-container",19),i.YNc(27,vt,1,0,"tr",20),i.YNc(28,Nt,1,0,"tr",21),i.YNc(29,Mt,2,2,"ng-container",22),i.YNc(30,_t,2,1,"ng-container",22),i.qZA(),i.YNc(31,Ft,2,0,"div",23),i.qZA(),i.qZA(),i.TgZ(32,"div",24),i.TgZ(33,"div",25),i.YNc(34,Ot,2,3,"mat-paginator",26),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",e.enableFilter),i.xp6(2),i.Q6J("ngClass",i.WLB(20,qt,e.enableRefresh||e.enableExport||e.enableInlineInsert||e.enableInsert||e.selection&&e.selection.selected.length>0||e.persisteVisibilityMultiActions,!(e.enableRefresh||e.enableExport||e.enableInlineInsert||e.enableInsert||e.selection&&e.selection.selected.length>0||e.persisteVisibilityMultiActions))),i.xp6(2),i.Q6J("ngIf",e.enableInlineInsert||e.enableInsert),i.xp6(2),i.Q6J("ngIf",e.enableRefresh),i.xp6(2),i.Q6J("ngIf",e.enableExport),i.xp6(2),i.Q6J("ngIf",e.enableExpandColumn),i.xp6(1),i.Q6J("ngIf",e.selection&&e.selection.selected.length>0||e.persisteVisibilityMultiActions),i.xp6(3),i.Q6J("dataSource",e.internalDataSource)("multiTemplateDataRows",e.activateCollapseRow),i.xp6(2),i.Q6J("matColumnDef",e.collapseColumnName),i.xp6(4),i.Q6J("matColumnDef",e.mutliEditionColumnName),i.xp6(4),i.Q6J("ngForOf",e.columns),i.xp6(1),i.Q6J("ngIf",e.activateCollapseRow),i.xp6(1),i.Q6J("matHeaderRowDef",e.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",e.displayedColumns),i.xp6(1),i.Q6J("ngIf",e.activateCollapseRow),i.xp6(1),i.Q6J("ngIf",e.enableFooter),i.xp6(1),i.Q6J("ngIf",!e.internalDataSource||!(null!=e.internalDataSource&&null!=e.internalDataSource.data&&e.internalDataSource.data.length)),i.xp6(1),i.Q6J("hidden",0===e.dataLength||!e.enablePagination),i.xp6(2),i.Q6J("ngIf",e.dataLength>0))},directives:[r.O5,r.mk,o.BZ,l.YE,o.w1,o.fO,o.Dz,o.mD,r.sg,o.as,o.nj,d.KE,p.Nt,m.Hw,d.R9,u.lW,g.p6,g.VK,r.tP,g.OP,o.ge,f.BN,o.ev,o.yh,h.oG,l.nU,r.RF,r.n9,r.ED,x.hl,b.Fj,b.JJ,b.On,x.nW,x.Mq,o.XQ,o.Gk,o.Ke,o.Q2,c.NW],pipes:[r.uU,r.H9],styles:[".mat-table[_ngcontent-%COMP%]{margin-bottom:1rem}.mat-footer-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{vertical-align:bottom;border-top:1px solid #dee2e6;border-bottom:2px solid #dee2e6}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:.3rem!important}.mat-cell[_ngcontent-%COMP%]{vertical-align:middle}.mat-footer-cell[_ngcontent-%COMP%]{color:#000;font-size:12px;font-weight:500}.mat-cell[_ngcontent-%COMP%]:first-of-type, .mat-footer-cell[_ngcontent-%COMP%]:first-of-type, .mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:10px!important}@media (max-width: 399px){.mat-paginator-container[_ngcontent-%COMP%]{padding:0!important}.mat-paginator-range-label[_ngcontent-%COMP%]{margin:0!important}}@media (max-width: 768px){.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:.4rem!important}}@media (min-width: 768px){tr.mat-footer-row[_ngcontent-%COMP%], tr.mat-header-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{height:inherit}}.mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#0000000d}.mat-row[_ngcontent-%COMP%]:focus, .mat-row[_ngcontent-%COMP%]:hover{color:#212529;background-color:rgba(0,0,0,.075)}  .mat-checkbox>label.mat-checkbox-layout{margin-bottom:unset}.signs[_ngcontent-%COMP%]{font-weight:bolder;font-size:large}.expandable-row[_ngcontent-%COMP%], .expandable-row[_ngcontent-%COMP%]:hover{background-color:#fdfdfd;min-height:0;overflow:hidden}.mat-cell-child[_ngcontent-%COMP%]{padding:0!important}tr.mat-footer-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{height:0!important}.toggle[_ngcontent-%COMP%]{width:10px;cursor:pointer;padding-left:.5rem}#myToolbarGridMaterial[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex}#myToolbarGridMaterial[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;padding-left:10px}.clsToolbar-40[_ngcontent-%COMP%]{height:40px}.clsToolbar-0[_ngcontent-%COMP%]{height:0}"]}),t})()},4364:(t,e,n)=>{"use strict";n.d(e,{f:()=>a,m:()=>o});var i=n(4214);class a extends i.VD{constructor(t){var e;super(t),this.estReserve=!1,this.marque&&(this.marqueName=this.marque.name),this.coleur&&(this.coleurName=null===(e=this.coleur)||void 0===e?void 0:e.name),this.modele&&(this.modeleName=this.modele.name),this.statut&&(this.statutName=this.statut.name,this.estReserve=1===this.statut.id)}}class o extends i.Wu{constructor(t){super(t),this.voiture&&(this.nomVoiture=this.voiture.name,this.codeVoiture=this.voiture.id)}}}}]);